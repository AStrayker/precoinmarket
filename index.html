<script>
    document.getElementById('crypto-select').addEventListener('change', function () {
        const selectedCrypto = this.options[this.selectedIndex];
        const logoSrc = selectedCrypto.getAttribute('data-logo');
        document.getElementById('crypto-logo').src = logoSrc;
        document.getElementById('crypto-logo').alt = selectedCrypto.text;
    });

    document.getElementById('exchange-select').addEventListener('change', function () {
        const selectedExchange = this.options[this.selectedIndex];
        const logoSrc = selectedExchange.getAttribute('data-logo');
        document.getElementById('exchange-logo').src = logoSrc;
        document.getElementById('exchange-logo').alt = selectedExchange.text;
    });

    document.getElementById('calculate-btn').addEventListener('click', function () {
        const crypto = document.getElementById('crypto-select').value.toLowerCase(); // Приводим к нижнему регистру
        const exchange = document.getElementById('exchange-select').value;
        const amount = parseFloat(document.getElementById('amount-input').value);
        
        // Обновляем объект prices с правильными ключами
        const prices = {
            cats: 0.50,
            memefi: 0.40,
            scr: 0.30,
            major: 0.20,
            rabbits: 0.10,
            ogc: 1.00
        };

        if (!amount || amount <= 0) {
            document.getElementById('converter-result').innerText = 'Введите корректное количество монет.';
            return;
        }

        if (!prices[crypto]) {
            document.getElementById('converter-result').innerText = 'Выбранная криптовалюта не поддерживается.';
            return;
        }

        const totalCost = (prices[crypto] * amount).toFixed(2);
        const resultText = `Стоимость ${amount} ${crypto.toUpperCase()} на ${exchange.toUpperCase()}: ${totalCost} USDT.`;
        document.getElementById('converter-result').innerText = resultText;
    });
</script>
